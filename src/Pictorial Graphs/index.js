// Inserting image height and SVG path
const activeShapes = {};
const shapes = {
  person: {
    name: 'Human',
    value: 5.7,
    color: '#8a8affff',
    paths: { definition: 'M28.64-6.248c-.352-3.984-3.56-7.656-7.632-8.032-2.2-.2-4.488-.232-6.816-.192C21.752-18.64 19.408-33.128 8.416-31.928c-9.776 1.064-10.448 13.608-3.52 17.464-2.392-.04-4.76-.016-7.016.192-4.072.376-7.28 4.048-7.632 8.032-.768 8.592.568 18.272 0 26.984.664 4.304 6.472 4.432 7.344.168l.016-23.008.312-.448 1.2-.024v64.064c0 .128.336 1.248.416 1.464.608 1.568 2.008 2.456 3.544 2.968h1.696c1.6-.56 2.904-1.304 3.56-2.944.088-.224.4-1.16.4-1.296v-37.928c.16-.2.432-.304.712-.32.28.008.544.112.712.32v37.928c0 .144.312 1.072.4 1.296.656 1.64 1.968 2.384 3.56 2.944h1.696c1.536-.512 2.936-1.4 3.544-2.968.088-.216.416-1.344.416-1.464V-2.576l1.2.024.312.448.016 23.008c.872 4.264 6.68 4.128 7.344-.168-.568-8.704.76-18.392 0-26.984Z', max: 5.7 }
  },

  animal1: {
    name: 'Cat (Animal)',
    value: 1.0,
    color: '#8bff8bff',
    paths: { definition: 'M41.4 51.8c0 0 0 .6-.3.8-1.3 1.7-4.9 1.4-6.8 1s-1.3-.6-1.7-.6-1 .5-1.5.6c-2.3.4-6.1.7-7.2-1.9-4 .5-8.2.4-12.1-.8-13.5-4.1-11.9-18.7-8.5-29.5s5.5-12.1 4.2-17-4.5-3.8-2.7-7.1 6.6-.3 8 2.2c7.4 13-11.5 30.2-1 42.4s3 3 4.2 2c-2.5-5.5-5.7-13.3-2.6-19.1s2.9-3.1 4-4.9c.3-8.9 1.5-17.3 3.2-26s2.5-8.6 2-11.2-2.1-3.8-2.7-5.7c-.9-2.7 0-5.1 0-7.9s-.6-3.6-.7-5.3-.2-6.9 1.1-7.3c2.4-.8 5.3 3.9 6.8 5.1s2.1.7 4.2.6 3.7.4 5 .4 3.8-3.5 5.3-4.7 2.7-2 3.6-1.2c2 1.7.2 10.3.1 12.8s.6 3.7.5 5.5c-.3 2.7-2.5 5.6-3 8.3s1.2 7.2 1.7 10c1.3 6.5 2.4 13 2.9 19.6s0 4.9.3 6.7 2.4 2.7 3.2 3.7c4.4 5.8 1.1 14.3-1.6 20.2s-1.9 3.1-2.2 4', max: 1.0 }
  },

  animal2: {
    name: 'Dog (Animal)',
    value: 1.3,
    color: '#8bff8bff',
    paths: { definition: 'M64 35.9c-2.2-3.2-6.4-3.8-10-3.1.5-.2 1.7-.8 2.5-2.1.6-1 .8-1.9.8-2.4 1.5 1.2 3.8 2.7 7 3.7 4.2 1.3 8.3 1.2 8.4.8 0-.3-2-.5-5.3-2-4.8-2.2-5.8-4.1-6.2-4.8-.5-1-.6-2-.7-2.3-.2-1.3 0-1.8.2-4.6.2-2.1.1-2.9 0-3.1 0-.3-.1-1.5-.4-2.7-.7-2.9-2.8-6-5.9-7.8-.9-.5-1.6-.8-2.1-.9 4-13.3 2.3-21.5-.3-26.5-2.9-5.8-7.3-11.4-5.4-17 .5-1.6 2.2-5.2 1.3-9.4-.2-.8-.6-2.2-.6-2.2-.1 0 1.7 9.9 3.9 9.9.3 0 .6-.2.7-.3 2.7-2.5 5.3-6.7 6-7.7 2.9-4.5 5.1-4.3 5.1-6.6 0-1.4-.9-2-4.6-5.8-6.4-6.5-6.9-7.8-9.3-8.3-2.2-.4-2.9 0-5.8-.4-1.3-.2-3.2-1.3-4.6-1.7-3-.8-5.8-.9-8.9-.2-2.4.5-4.8 1.8-7.2 2-4.4.3-4.9 0-8.4 3-2.6 2.1-6.1 5.1-8.4 7.5-3.5 3.8 1.4 9.6 4.2 12.2 1.5 1.4 3.4 2.5 4.5 4.4.6.9.7 2.4 2.2 2 0 0 .5-.1.9-.6.6-.7 2.4-8.1 2.1-8.2-.2 0-1.1 2.8-.7 5.5.5 2.7 2.1 3.8 2.8 5.3 2.4 4.7-3.9 11.4-6.7 17.2-2.5 5-4.1 13-.1 25.7-1 .4-2.7 1.4-3.1 1.7-5 3.6-6 9.6-4.6 15.3 1.1 4.4 3.7 8.1 6.6 11.5-4-1.4-10.8.6-11.2 5.5 0 .3 0 1.2.4 1.9.5.7 1.4 1.3 5.6 1.5 1.4 0 3.4.1 5.9 0 .1 1.1.6 2 1.3 2.3.4.2.8.2.8.2.4 0 .6-.3 1.1-.2.4 0 1.1.6 1.8.7.7 0 1.4-.2 2.1-.1 1.2 0 1.7.4 3.1 0 .4-.1.7-.4 1.1-.5.4 0 .8.1 1.2.1 1.1 0 1.9-.3 2.4-.8 1.5-1.4-.5-4.9.4-5.4.3-.2 1 0 2.5 1.4h2.7c1.5-1.4 2.1-1.5 2.4-1.3.9.6-.9 3.9.4 5.2.5.5 1.4.8 2.5.8 1.4 0 1 0 2.3.3 1.3.3 2.3-.2 3.2-.1.6 0 1 .3 1.8.2.7 0 1.3-.6 1.8-.7.8-.1 1.1.2 1.6.1.5-.1 1.1-.6 1.6-2.1 3.5.3 6.3 0 8.1-.5 2.8-.6 3.5-1.2 3.8-1.9.6-1.3-.5-2.9-.9-3.5Z', max: 1.3 }
  },
  car1: {
    name: 'Jeep Wrangler (Car)',
    value: 6.1,
    color: '#ff8a8aff',
    paths: { definition: 'M93.5 3.8h-17.2l2.6-12.7c.2 0 .3 0 .4 0 .3.3 0 1-.2 1.2-.3.8-.9 3.6-2 10.7 5.8.1 11.7.2 17.5.3-1-3.3.4-9.5-1.1-12.3-.8-1.5-9.3-2.9-11.2-3.9-.5-2.8 0-6.1-2.2-8.2 0 0 .1-.2.3-.2.4-.1.9.6 1.1.9.2.3.4.7.6 1.3.2 0 1.4-.1 2.3-1.1 1-1.1.9-2.4.8-2.6 1.1 0 2.2 0 3.4 0 .4-.9 1.3-2.9 1-5.6-.2-2-1-3.5-1.5-4.3-2 0-4 0-6 0-.8 7.2-.3 9.2.4 9.4.2 0 .8.2.9.6 0 .3-.2.7-.4.9-.5 0-1.1 0-1.6 0-.7-8.5-1.4-17.1-2.1-25.6-1.5-5.9-6.7-4.2-11.2-4.5-5.8-.3-11.6-.5-17.4-.6 0 0 0 0 0 0-1 0-2 0-3 0h0s0 0 0 0c0 0 0 0 0 0h0c-.2 0-.3 0-.5 0-.2 0-.3 0-.5 0h0s0 0 0 0c0 0 0 0 0 0h0c-1 0-2 0-3 0 0 0 0 0 0 0-5.8 0-11.6.3-17.4.6-4.5.2-9.7-1.4-11.2 4.5-.7 8.5-1.4 17.1-2.1 25.6-.5 0-1.1 0-1.6 0-.2-.3-.5-.6-.4-.9.1-.4.8-.5.9-.6.7-.2 1.2-2.2.4-9.4-2 0-4 0-6 0-.5.8-1.3 2.3-1.5 4.3-.3 2.7.5 4.7 1 5.6 1.1 0 2.2 0 3.4 0 0 .2-.1 1.5.8 2.6.9 1 2 1.1 2.3 1.1.2-.6.4-1 .6-1.3.2-.3.7-1 1.1-.9.1 0 .2.1.3.2-2.2 2.1-1.7 5.4-2.2 8.2-1.9 1-10.4 2.4-11.2 3.9-1.5 2.8 0 9-1.1 12.3 5.8-.1 11.7-.2 17.5-.3-1.1-7.1-1.7-9.9-2-10.7 0-.2-.4-.9-.2-1.2 0 0 .2-.1.4 0l2.6 12.7h-17.2c-.3 0-.6.2-.8.5-.3.4-.2.8-.2.9.4 3.7.6 7.4.5 11.2-.1 5-.8 13.8 1.2 21.1.1.6.4 1.6 1.3 2.5 1.5 1.5 3.8 1.5 5.7 1.5 1.9 0 4.7 0 6.2-2 .5-.7.8-1.4 1-2.3 0-.3.4-1.2.5-3.6 0-.9.1-2.1.1-3.5.9 0 1.9 0 2.8 0l.2-5.1h55.9l.2 5.1c.9 0 1.9 0 2.8 0 0 1.4 0 2.6.1 3.5.2 2.4.4 3.3.5 3.6.3.9.5 1.6 1 2.3 1.5 1.9 4.3 2 6.2 2 1.8 0 4.1 0 5.7-1.5.9-.9 1.2-2 1.3-2.5 2-7.4 1.3-16.2 1.2-21.1 0-3.7 0-7.5.5-11.2 0-.1 0-.6-.2-.9-.2-.3-.6-.4-.8-.5ZM13.6 12.8h-6.4v-1.7h6.4v1.7ZM15.3-26.3l1.3-17.2c.3-1.3.6-3 2.1-3.5h27.9s.1 0 .1 0h.1s.2 0 .2 0h.2s.1 0 .1 0h.1s27.9 0 27.9 0c1.4.5 1.7 2.2 2.1 3.5l1.3 17.2h-63.5ZM61.1 4.2c0 .6 0 1.6-.8 2.1-.5.3-1.2.4-1.7 0-.7-.5-.6-1.7-.6-2.4.2-3.8.3-6.4.2-8.5 0-1.7 0-3.5 0-5.2 0-.5 0-1.4.5-1.8.5-.4 1.4-.4 1.9 0 .6.4.6 1.3.6 1.9 0 3 0 4.5 0 5.1-.2 2.1 0 2.9-.1 8.9ZM48.5-17.8c-.5 0-.9 0-1.4 0-.5 0-.9 0-1.4 0-7.2 0-14.2.2-21 .4 0-.7 1-.4 1.5-.4 6.7-.3 13.4-.5 20.2-.4h.7s0 0 0 0h0s0 0 0 0h.7c6.7 0 13.5.1 20.2.4.5 0 1.6-.3 1.5.4-6.8-.3-13.8-.4-21-.4ZM55.7-.4c0 1.5 0 2.2 0 2.5 0 .6 0 1.6 0 2.9 0 .8-.2 1.1-.5 1.3-.4.3-1.1.3-1.5 0-.4-.3-.4-.7-.5-1.5 0-.7 0-.9 0-2.8 0 0 0 0 0 0 0-.2 0-.7 0-2.5 0-2.6 0-3 0-4.7 0-1.8 0-1.6 0-2 0-1.1 0-2.3 0-3.4 0-.4 0-.9.2-1.2.3-.4.8-.5 1-.5 0 0 .7 0 1.2.5.2.3.3.6.3 1.2 0 1.5 0 2.4 0 3.4 0 .1 0 .5 0 1.1 0 .3 0 .5 0 .9 0 2.1-.1 2.9 0 4.8ZM50.5 5.9c-.2.3-.4.4-.6.4-.6 0-1.1-.5-1.1-.5-.1-.2-.4-.6-.3-3.3 0-.3 0-.4 0-.8 0-.6 0-1.3 0-1.9 0-2.8.1-4.2 0-5 0-.2 0-2.2-.2-4.5 0-.7 0-1.9.6-2.4.2-.1.4-.2.8-.2 0 0 .6 0 1.1.3.7.5.6 1.6.6 2.6 0 1.4 0 2.7 0 4.1-.1 2-.1 3.9-.1 5.2 0 1 0 1.9 0 2.9 0 1.1 0 2.3-.6 3.1ZM46.3 20c-4.1 0-7.6-.1-8.7 0-2.2 0-1.8-5.7-.9-6.4h8.9c3.9 0 7.9 0 11.8 0 .9.7 1.3 6.3-.9 6.4-1.1 0-2.2 0-3.3 0-1.7 0-3 0-4.5 0-.9 0-1.7 0-2.5 0ZM43 0c0-1.3 0-3.2-.1-5.2 0-1.4 0-2.7 0-4.1 0-1 0-2.1.6-2.6.5-.4 1.1-.3 1.1-.3.3 0 .6.1.8.2.7.5.6 1.7.6 2.4 0 2.4-.2 4.4-.2 4.5 0 .8 0 2.2 0 5 0 .6 0 1.3 0 1.9 0 .4 0 .5 0 .8 0 2.7-.2 3.1-.3 3.3 0 0-.5.6-1.1.5-.2 0-.4-.1-.6-.4-.7-.8-.6-2-.6-3.1 0-1 0-1.9 0-2.9ZM38.5-.4c0-2 0-2.8 0-4.8 0-.3 0-.6 0-.9 0-.6 0-1 0-1.1 0-1 0-2 0-3.4 0-.6 0-.9.3-1.2.4-.5 1.1-.5 1.2-.5.3 0 .7.1 1 .5.3.4.3.8.2 1.2 0 1.1 0 2.3 0 3.4 0 .4 0 .1 0 2 0 1.7 0 2 0 4.7 0 1.8 0 2.3 0 2.5 0 0 0 0 0 0 0 1.9 0 2.2 0 2.8 0 .8-.1 1.3-.5 1.5-.4.3-1.1.3-1.5 0-.3-.2-.4-.5-.5-1.3-.2-1.3 0-2.3 0-2.9 0-.3 0-1 0-2.5ZM32.9-4.7c0-.6 0-2.1 0-5.1 0-.7 0-1.5.6-1.9.5-.4 1.4-.4 1.9 0 .6.5.5 1.3.5 1.8 0 1.7.1 3.5 0 5.2-.1 2.1 0 4.8.2 8.5 0 .7.1 1.9-.6 2.4-.5.3-1.2.3-1.7 0-.7-.5-.7-1.5-.8-2.1-.2-6 0-6.8-.1-8.9ZM29.6-5.4c-1.5 1.5-3.6 1.5-3.9 1.5-2.6 0-4-2.1-4.2-2.4-.1-.2-1.8-2.7-.5-5.4.9-1.8 2.7-3 4.7-3 2 0 3.7 1.1 4.6 2.5 1.4 2.2 1.1 5.1-.7 6.9ZM46.4-24.6h-8.5v-.4h18.5v.4h-10ZM63.9-12.3c.9-1.4 2.6-2.5 4.6-2.5 2 0 3.9 1.2 4.7 3 1.3 2.7-.4 5.2-.5 5.4-.2.3-1.6 2.3-4.2 2.4-.3 0-2.3 0-3.9-1.5-1.8-1.7-2.1-4.7-.7-6.9ZM19 17.8c-2.2-1.2-2-4.8 0-5.4 5.8-1.8 4.5 7.7 0 5.4ZM21.8 5.9c-2-2 .7-6.4 3.5-4.2 2.7 2.1-1 6.8-3.5 4.2ZM23.4 9.8h21.1c0 .1 0 .3 0 .4h-21v-.4ZM68.2 23.8h-42.3v-.4h42.3v.4ZM70.8 10.2h-21c0-.1 0-.3 0-.4h21.1v.4ZM68.8 1.7c2.8-2.2 5.6 2.1 3.5 4.2-2.6 2.6-6.3-2.1-3.5-4.2ZM75.2 17.8c-4.5 2.4-5.8-7.1 0-5.4 2 .6 2.3 4.2 0 5.4ZM86.9 12.8h-6.4v-1.7h6.4v1.7Z', max: 6.1 }
  },

  car2: {
    name: 'Toyota Corolla (Car)',
    value: 4.5,
    color: '#ff8a8aff',
    paths: { definition: 'M70.4-6.912c.96 0 1.472.256 2.048.384.832.192 2.304 0 3.136-.576.448-.32-.064-2.176-.32-2.624-.896-1.536-6.656-2.24-6.656-1.344v2.624c-.32.064-.256 0-.32-.192-.576-.896-1.024-2.24-1.6-3.2-1.6-2.816-3.84-5.696-6.272-7.808-.96-.832-1.856-1.536-3.136-1.6-6.336-.32-12.8-.448-19.264-.448-6.464 0-12.864.064-19.264.448-1.344.064-2.24.768-3.136 1.6-2.432 2.112-4.672 4.992-6.272 7.808-.576.96-1.024 2.304-1.6 3.2-.064.128 0 .256-.32.192v-2.624c0-.896-5.76-.192-6.656 1.344-.256.448-.832 2.304-.32 2.624.832.576 2.304.768 3.136.576.576-.128 1.088-.32 2.048-.384.384 0 .768 0 .96 0 .128.128-.64 1.216-.704 1.408 0 .128 0 .448-.192.768-.256.576-1.216 1.152-1.664 1.728-4.224 5.056-3.584 15.552-3.264 21.824 0 .64.064 1.92.192 2.496.128.512.192.576.64.704.192 1.088-.256 3.008 0 3.968.128.384.64.64 1.024.64 1.536.192 5.824.192 7.296 0 1.984-.256.96-2.816 1.216-4.224 8.64 0 17.344-.256 25.984-.128 0 0 0 0 0 0 .256 0 .512 0 .768 0 .256 0 .512 0 .768 0 0 0 0 0 0 0 8.64-.064 17.344.064 25.984.128.256 1.408-.768 3.968 1.216 4.224 1.536.192 5.824.192 7.296 0 .384 0 .896-.256 1.024-.64.256-.96-.128-2.88 0-3.968h0c.448-.128.512-.192.64-.704.128-.512.192-1.856.192-2.496.384-6.272.96-16.768-3.264-21.824-.448-.576-1.408-1.152-1.664-1.728-.128-.32-.128-.64-.192-.768-.064-.192-.832-1.28-.704-1.408.256 0 .576 0 .96 0ZM16.32-19.392c6.912-.64 13.824-.896 20.736-.832 0 0 0 0 0 0 .32 0 .64 0 .96 0 .32 0 .64 0 .96 0 0 0 0 0 0 0 6.912 0 13.888.256 20.736.832 3.008 2.56 5.248 5.824 6.848 9.408h-28.608s-28.608 0-28.608 0c1.6-3.52 3.904-6.848 6.848-9.408ZM57.92 3.328c-.192 1.344-1.792 1.728-2.944 1.92-2.944.512-7.104.896-10.112 1.024-.448 0-2.56.128-2.624-.192 0-.256.896-1.6 1.152-1.792.192-.192.64-.32.896-.32 2.176-.384 5.568-.512 7.872-.576 1.92 0 3.776 0 5.696 0ZM33.792 6.08c-.064.32-2.176.256-2.624.192-3.008-.128-7.104-.512-10.112-1.024-1.152-.192-2.752-.576-2.944-1.92 1.92 0 3.776-.064 5.696 0 2.304.064 5.696.192 7.872.576.256 0 .704.192.896.32.256.192 1.152 1.536 1.152 1.792ZM4.48-2.56c.256-.32 1.472-1.6 1.728-1.664 1.984-.448 4.992 1.088 6.528 2.24.384.32 1.216.896 1.472 1.216 0 0 .384.512.448.576.704 1.024 1.152 2.496.512 3.712-.256.512-.896.384-1.472.384-1.664-.064-3.904-.448-5.568-.768-.832-.128-4.352-.64-4.736-1.152-.96-1.152.256-3.584 1.088-4.608ZM3.264 9.472c.32-.448 2.816-.256 2.944.256l-1.536 7.936c-1.6 0-1.6-1.664-1.664-2.88 0-.96-.128-4.736.32-5.312ZM62.08 19.84c-1.344-2.432-2.88-3.648-3.968-4.224-4.544-2.56-9.024.128-19.008.32-.256 0-.512 0-.768 0 0 0 0 0 0 0-.128 0-.256 0-.32 0-.128 0-.256 0-.32 0 0 0 0 0 0 0-.256 0-.512 0-.768 0-9.984-.192-14.464-2.88-19.008-.32-1.088.576-2.624 1.792-3.968 4.224-1.344-.064-2.88-.192-4.16-.448-.896-.192-1.088-.128-.896-1.088.32-1.28 3.136-6.08 4.16-6.656.256-.128.448-.192.64-.192 3.968-1.024 14.784.256 24.128.576 0 0 0 0 0 0 0 0 .128 0 .192 0 0 0 .128 0 .192 0 0 0 0 0 0 0 9.344-.384 20.16-1.6 24.128-.576.128 0 .384.064.64.192 1.088.576 3.904 5.44 4.16 6.656.192.96 0 .896-.896 1.088-1.28.32-2.816.384-4.16.448ZM73.088 14.848c-.064 1.216-.128 2.88-1.664 2.88l-1.536-7.936c.128-.512 2.624-.768 2.944-.256.448.576.384 4.416.32 5.312ZM69.888-4.224c.256 0 1.472 1.344 1.728 1.664.832 1.024 1.984 3.392 1.088 4.608-.384.512-3.904 1.024-4.736 1.152-1.664.256-3.968.64-5.568.768-.576 0-1.152.192-1.472-.384-.576-1.152-.128-2.688.512-3.712 0 0 .384-.512.448-.576.32-.32 1.088-.96 1.472-1.216 1.536-1.152 4.608-2.688 6.528-2.24Z', max: 4.6 }
  },

  building1: {
    name: 'World Trade Center (Building)',
    value: 1792,
    color: '#fff16fff',
    paths: { definition: 'M29.1-52.6v-3.8s-7.6 0-7.6 0c-.6-8.1-1.3-16.1-1.9-24.2l-1.1 24.2h-7.6s0 3.8 0 3.8h-3.8s0 102.9 0 102.9v19.1h25.7V-52.6h-3.8ZM29.8 50.3c-3.1-26.7-6.3-53.4-9.4-80-3.4 26.7-6.8 53.4-10.2 80h-2.5l12.7-99.9 12 99.9h-2.6Z', max: 1798 }
  },

   building2: {
    name: 'Burj Khalifa (Building)',
    value: 2720,
    color: '#fff16fff',
    paths: { definition: 'M33.84-64.4h-2.4v17.76h-2.64v19.2h-1.92s-.96 20.24-.96 20.24c-.88 0-1.76 0-2.64 0-.48 9.12-.96 18.32-1.52 27.44-1.2 0-2.48 0-3.68 0 0 .64 0 1.36.08 2h-2.64s0 2.64 0 2.64h-6.24l-.24 6.96h-6.96v1.92h67.2v-1.92h-7.2c0-2.72-.08-5.36-.16-8.08h-6.48c0-.08-.24-2.72-.24-2.72h-2.88c0-.88 0-1.68 0-2.56-1.04 0-2-.16-3.04-.24l-1.2-19.28h-1.76c-.48-6.96-.88-13.92-1.36-20.88-.64 0-1.2 0-1.84 0-.16-6.48-.4-13.04-.56-19.52h-2.4s0-17.52 0-17.52h-1.44l-2-28.08c-.96 7.52-1.84 15.04-2.8 22.56Z', max: 2722 }
  },

   hollowKnight: {
    name: '???',
    value: 1.0,
    color: '#8bff8bff',
    paths: { definition: 'M65.6-109.6c-2.4-.6-8.6-.7-10.7.5-.5.3-.9.9-.3 1.4.6.5 2.8.7 3.7 1 1.5.4 3.5 1 4.6 2-.9 0-2.4.3-3.2.7-.8.5-.2 1.4.4 1.8 1.8 1.2 3 1.2 4.7 3.1 5.8 6.6 5.6 16.4-.1 22.9-2.7 3-4.9 3.7-8.8 3.9-4.5.2-9.3-.3-13.9-.4-7-.1-13.9.1-20.9.2-2.5 0-3.8 0-5.9-1.5-2.1-1.5-4.3-5.8-4.7-8.3-.9-5.5 3.4-14.6 7.6-18 1.2-1 3.2-1.9 4.3-2.9 1.6-1.5-.1-2.5-1.7-2.5-.5 0-1 .2-1.5 0v-.3c2-1.5 4.5-2.1 6.9-2.9 1.2-1.1-.5-1.7-1.5-1.9-6.8-1.5-14.2 3.3-18.7 8.1-9.4 10.1-8.2 23 .2 33.3 1.2 1.5 2.7 2.4 3.2 4.4.9 3.7.4 8.1.5 11.9.2 5.9 1.6 15 3.9 20.4.2.4 1.2 2.1 1.2 2.2 0 .3-.6.5-.8.7-.3.3-1.3 1.6-1.5 1.9-.2.5.1.8.4 1.2 2.5 2.6 5.4 5.2 8 7.7.4.3.7.7 1.1 1.1-.4.4-.9.8-1.2 1.3-.5.6-1.7 2.4-1.3 3.1l3.4 2.9c-1.7 4.3-3 8.6-3.6 13.2-.9 6.1-.6 11.5.6 17.5.2 1 1.1 3.3 2 3.9.9.6.5-.6.4-.9 0-.4 0-.8-.1-1.2.4 0 .4.5.7.6.3 0 .7-.2.7-.2 0 .4.2 1 .5 1.3.2.2.4.1.5.2.2 0 .1.4.6.2.3-.1.1-.6.2-.8.2-.9.7-2 1.4-2.6v1.7c0 0 .6.8.7.8 1-.8 1.6-2 2.4-3 .3 2.5 1.1 5.2 2.3 7.5.3.6 1.2 2.2 1.6 2.7 1 1.2 2.4.8 2.5-.8.1-.9-.2-1.7-.2-2.6-.1-2.5-.1-5.8.3-8.3 0-.5.2-1.4.7-1.7.4-.2 1.8-.6 2.2-.6.9 0 3 0 3.2 1 0 .5.1 1.5.1 2 .2 3.5 0 7 .2 10.6 1.2 2.5 2.8-.1 3.5-1.5 1.3-2.6 2.1-5.9 2.7-8.8.2-.2.9.8 1 .9.8.8 2.3 2 2.1-.1 1-.5 1.3 2.3 2.1 1.6.2-.4.1-.6.6-.8 1 1.8 2.5 3.8 4.8 3.5.4-.3-.3-1.3-.5-1.7-.2-.4-.2-.9-.4-1.3.6 0 .6 1.4 1 1.5.5.2.6-.4.7-.8.4-1.3.3-2.5.2-3.9.8.3 1.2.2 2 0 2 1 3.7 2.7 6.1 2.8.2-.2-.9-1.8-1.1-2.1-1.3-1.9-3-3.6-4.4-5.4-.7-.9-2.2-3-2.3-4.1 0-1 0-2 0-3-.3-5.7-1.2-10.4-3.4-15.7-1.9-4.5-4.2-9.2-7.5-12.8 0-.1.2-.1.3-.2 9.4-1.8 13.6-3.3 16.5-13.1 1.9-6.6 2.4-13.2 2.6-20 0-2.9-.2-8.2.5-10.9.4-1.3 2.6-3.2 3.6-4.3 3.6-4 6.1-8.2 6.8-13.6 1.5-10.9-3.4-22.9-14.8-25.6ZM64.1 16c.1 0 1.1 1.2 1.2 1.4.1.2 1.1 1.5 1 1.6-1.2-.4-2.8-1.4-2.1-3ZM63.4 15c0 .6 0 1 .1 1.6-.2 0-.4-.2-.5-.4-.2-.2-1.2-1.4-1.3-1.6-.3-.6-.3-1.6-.3-2.2l2 2.6ZM70-88.1s0 0 0 0c0 0 0 0 0 0ZM52.3-31.8c-5.6-1.5-7.6-10.1-3.9-14.4 1.1-1.3 3.4-2.7 5.1-2.9 4.8-.6 8.9 2.4 9.3 7.3.6 6.5-3.6 11.8-10.4 10ZM16.6-39.9c-.2-4.5 3.3-8.4 7.8-8.8 8.2-.8 11.8 11.8 5.6 16.2-6.4 4.6-13.1 0-13.4-7.4ZM21.8-25.4c-1.7-.8-3-1.8-4.1-3 1.1 1.2 2.5 2.2 4.1 3ZM26.6-21.9c-.1 0-.7-.6-.5-.7l1.1.2-.5.5Z', max: 1.0 }
  }
};

// Labeling Highcharts Graph
let chart = Highcharts.chart('container', {
  chart: { type: 'pictorial' },
  title: { text: 'Height Comparison Graph' },
  xAxis: { categories: ['Type'] },
  yAxis:{labels: { format: '{value} ft' }},
  legend: { enabled: true },
   
  series: [
  ]
});

function toggleShape(type, button) {
  if (activeShapes[type]) {
    const index = activeShapes[type].seriesIndex;
    chart.series[index].remove();
    delete activeShapes[type];
    button.classList.remove('active');

    chart.series.forEach((s, i) => {
      const key = s.userOptions.key;
      activeShapes[key].seriesIndex = i;
    });

  } else {

    const s = shapes[type];
    const newSeries = chart.addSeries({
      key: type, 
      name: s.name,     
      data: [s.value],
      color: s.color,
      paths: [s.paths]
      
    });

    activeShapes[type] = {
      seriesIndex: chart.series.length - 1
    };

    button.classList.add('active');
  }
}

// Buttons
document.querySelectorAll('#options-wrapper button').forEach(btn => {
  btn.addEventListener('click', () => {
    toggleShape(btn.dataset.type, btn);
  });
});

[...document.querySelectorAll('input[name="color-mode"]')]
    .forEach(input => {
        input.addEventListener('click', e => {
            document.getElementById('container').className =
                e.target.value === 'none' ? '' : `highcharts-${e.target.value}`;
        });
    });


export function createPictorialGraph({
  containerId = 'container',
  title = 'Pictorial Graph',
  xAxis = { categories: ['Type'] },
  yAxis = { labels: { format: '{value}' } },
  legend = { enabled: true },
  shapes = {},
}) {
  const activeShapes = {};

  // Initialize the Highcharts pictorial chart
  let chart = Highcharts.chart(containerId, {
    chart: { type: 'pictorial' },
    title: { text: title },
    xAxis,
    yAxis,
    legend,
    series: []
  });


  function toggleShape(type, buttonElement = null) {
    if (!shapes[type]) {
      console.error(`Shape "${type}" was not found in shapes object`);
      return;
    }


    if (activeShapes[type]) {
      const index = activeShapes[type].seriesIndex;
      chart.series[index].remove();
      delete activeShapes[type];

      if (buttonElement) buttonElement.classList.remove('active');


      chart.series.forEach((s, i) => {
        const key = s.userOptions.key;
        if (activeShapes[key]) activeShapes[key].seriesIndex = i;
      });

    } else {
      const s = shapes[type];

      const newSeries = chart.addSeries({
        key: type,
        name: s.name,
        data: [s.value],
        color: s.color,
        paths: [s.paths]
      });

      activeShapes[type] = {
        seriesIndex: chart.series.length - 1
      };

      if (buttonElement) buttonElement.classList.add('active');
    }
  }

  return { chart, toggleShape };
}




